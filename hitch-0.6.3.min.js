/* hitch - v0.6.3 - http://www.hitchjs.com 04/14/2013 10:04 AM */
var Hitch=function(){var a=document.getElementsByTagName("head")[0],b,c,d=function(){if(a.matchesSelector)b="",c="matchesSelector";else if(a.mozMatchesSelector)b="-moz-",c="mozMatchesSelector";else if(a.webkitMatchesSelector)b="-webkit-",c="webkitMatchesSelector";else if(a.oMatchesSelector)b="-o-",c="oMatchesSelector";else if(a.msMatchesSelector)b="-ms-",c="msMatchesSelector";else return b="-hitch-",c="hitchMatchesSelector",function(a,b){return g(document.querySelectorAll(b)).indexOf(a)!==-1};if(!d)return function(a,b){if(a[c])return a[c](b)}}(),e=typeof navigator!="undefined"&&navigator.appName=="Microsoft Internet Explorer"&&navigator.userAgent.indexOf("MSIE 8")!==-1,f=function(a,b){var c=[];try{return c=a.querySelectorAll(b),c}catch(e){var f=0,h,i=[],j,k,l;j=b.replace(/\:not\([^\)]+\)/g,function(a,b,c){return i.push(a.substring(a.indexOf(":not(")+5,a.lastIndexOf(")"))),f=b+a.length,""}),k=g(a.querySelectorAll(j))||[];for(f=k.length-1;f>=0;f--){l=!0;for(h=0;h<i.length;h++)d(k[f],i[h])||(l=!1);l||c.push(k[f])}return c}},g=function(a){var b,c;if(!e)return Array.prototype.slice.call(a,0);b=[];for(c=0;c<a.length;c++)b.push(a[c]);return b},h={checks:0,queries:0},j={},k=[],l=[],m=[],n=[],o=[],p=[],q=!1,r=function(a,b,c,e,f){var g,h=J.map[a];try{if(h.init){g=[];for(var i=0;i<b.length;i++)d(b[i],h.base)&&!d(b[i],"["+h.name+"-inited]")&&(h.name.charAt(0)==="-"&&(h.name="x"+h.name),b[i].setAttribute(h.name+"-inited","true"),g.push(b[i]));h.init(g)}h.filter&&(x=h.filter(f,e.args,{siblings:f.parentNode.children,location:H()}),x?Hitch.dom.addMangledClass(c,e.classId):Hitch.dom.removeMangledClass(c,e.classId))}catch(j){}},s=function(a,b,c){var e,f,g,h,i;if(a.tagName!=="BODY"&&b.scan!==""){for(var j in b.index)try{if(d(a,j))for(h in b.index[j].hitches){g=b.index[j].hitches[h];for(i=0;i<g.length;i++)r(h,[a],a,g[i],a)}}catch(k){}return c=a,s(a.parentNode,b,c)}return c},t=function(a,b){while(a&&a.tagName!=="BODY")b.push(a),a=a.parentNode;return b},u=[],v=!0,w=function(a){if(!a.attrName||!/^src$|^style$/.test(a.attrName))u.push(a),v=v&&a.target&&a.type==="DOMAttrModified",B(a)},y=function(a){var b,c=a[0].target||a[0],d="compareDocumentPosition"in c?"compareDocumentPosition":"contains",e=d==="contains"?1:16,f;g:while(c=c.parentNode){b=a.length;while(b--){f=a[b].target||a[b];if(!f.tagName)return document.getElementsByTagName("body")[0];if(c[d]&&(c[d](a[b].target||a[b])&e)!==e)continue g}return c}return document.getElementsByTagName("BODY")[0]},z=null,A=100,B=function(a){z&&clearTimeout(z),z=setTimeout(function(){var b,c=v,d=a;if(u.length>1||!(a||{}).attrName)b=y(u),b.tagName==="HTML"&&(b=document.getElementsByTagName("BODY")[0]),d={type:"DOMNodeInserted",target:b,relatedNode:b};u=[],v=!0,C(d)},A)},C=function(a){var b=a.target?a:{target:a||document.getElementsByTagName("body")[0],type:"DOMNodeInserted"};b.type!=="DOMAttrModified"?M(b,function(){N(function(){D(b)})}):D(b)},D=function(a){var b,c=a.target||a,d=[];if(c.parentNode===null)return;if(a.type==="DOMNodeRemoved"){setTimeout(function(){C({type:"DOMNodeInserted",target:a.relatedNode,relatedNode:a.relatedNode})},1);return}if(!q){q=!0;try{var e=F(a);if(e){c=s(c,e)||c;return}for(var f=0;f<d.length;f++)d[f]._oldclasses=d[f].className;G(c,a.type==="DOMNodeInserted"?t(a.relatedNode,[c]):!1)}catch(g){}finally{q=!1,u.length>0&&B()}}else u.push(c)},E={"class":function(a){return"."+a},id:function(a){return"#"+a},attr:function(a){return"["+a+"]"}},F=function(a){var b,c,d={},e,f="",g="",h=[],i=[],k;if(!a.attrName)return!1;c=E[a.attrName]?E[a.attrName]:E.attr;for(var l in j)h.push(l),b=l+JSON.stringify(j[l]),k=c(a.attrName.trim()),b.indexOf(k)!==-1&&(d[l]=j[l]);return{scan:h.join(","),index:d}},G=function(a,b,c){var e,h,i,k,l,m=o,n,p,q={},s,t;for(h in j)try{n=b,b?n=b.concat(g(f(a,h))):a.querySelectorAll&&(n=g(f(a,h)));for(var u=0;u<n.length;u++){e=n[u],p={target:e},fs=j[h].hitches;for(var v in fs){l=fs[v];for(var w=0;w<l.length;w++)d(e,h+l[w].base.replace(/\*$/,""))&&r(v,n,p,l[w],e)}}}catch(x){}},H=function(){var a=window.location.href.split("?")[0].split("/");return a.pop(),a.join("/")},I=!1,J={map:{},parse:function(){return{rules:k,segIndex:j,plugins:l}},wire:function(){var a,b,c;a=function(a,b,e,f,g,h){g==="out"&&c&&clearTimeout(c),c=setTimeout(function(){var c,i,j,k=g==="out"?e.args.replace(":"+h,""):e.args;c=k.split(",").map(function(a){return a+","+a+" *"}).join(","),c=c.replace(/,$/,"");if(d(f,c)){j=document.querySelectorAll(b);for(i=0;i<j.length;i++)q=!0,Hitch.apply(a,[],j[i],e,j[i])}},50)},b=function(b,c,d){var e,f,g,h,i,k;for(e in j){f=j[e];try{if(f.hitchState[d].length>0)for(k=0;k<f.hitchState[d].length;k++){g=f.hitches[f.hitchState[d][k].hitch];for(i=0;i<g.length;i++)a(f.hitchState[d][k].hitch,e,g[i],b.target,c,d)}}catch(l){}}},document[Hitch.events.getAttacherFnName()]("mouseover",function(a){b(a,"in","hover")}),document[Hitch.events.getAttacherFnName()]("mouseout",function(a){b(a,"out","hover")}),document[Hitch.events.getAttacherFnName()]("focus",function(a){b(a,"in","focus")},!0),document[Hitch.events.getAttacherFnName()]("blur",function(a){b(a,"out","focus")},!0);if(document.addEventListener){var e=document.getElementsByTagName("body")[0];if(!e){I=!1;return}e.addEventListener("DOMAttrModified",w),e.addEventListener("DOMNodeInserted",w),e.addEventListener("DOMNodeRemoved",w),e.addEventListener("DOMSubtreeModified",function(a){var b=a.target;!b._isSetting&&b._oldclasses!==b.className&&(b._isSetting=!0,b.setAttribute("class",b.className),b._oldclasses=b.className,b._isSetting=!1)})}I=!0},init:function(){},register:function(a){var b=a;a.length||(b=[a]);for(var c=0;c<b.length;c++){var d=b[c];if(d.filter||d.init)J.map[":"+d.name]=d}}},K=function(a,b){var c,d,e=[],g,h;try{c=f(a||document,"[data-hitch-widget]");for(d=0;d<c.length;d++)h=c[d],g=h.getAttribute("data-hitch-widget"),g.indexOf("package:")===0?e.push({uri:"http://www.hitchjs.com/use/"+g.substring(8)+".js"}):e.push({uri:g});Hitch.resource.load(e,null,"script",null,b)}catch(i){}},L=function(a,b){var c=[],d,e,g,h;try{resources=f(a||document,"[data-hitch-interpret]:not([data-hitch-parsed])");for(i=0;i<resources.length;i++)resources[i].tagName==="STYLE"?c.push({inline:resources[i].innerHTML,ref:resources[i]}):(e=resources[i].getAttribute("href"),c.push({uri:e,ref:resources[i]})),resources[i].getAttribute("data-hitch-parsed")||resources[i].setAttribute("data-hitch-parsed",!0);Hitch.resource.load(c,Hitch.addCompiledRules,"css",null,b)}catch(j){}},M=function(a,b){var c=a.target||a;K(c,function(){L(c,function(){b.apply({},arguments)})})},N=function(a){var b;window.addMod=w,I||(I=!0,J.wire()),l&&(J.register(l),b=J.parse(),p=b.rules,j=b.segIndex,typeof a=="function"&&a.apply({},arguments))};if(document.head&&document.head.webkitMatchesSelector||e)Element.prototype._setAttribute=Element.prototype.setAttribute,Element.prototype.setAttribute=function(a,b){var c,d,e;d=this.getAttribute(a);try{this._setAttribute(a,b)}catch(f){}w({target:this,prevValue:d,attrName:a,newValue:b})};return[].indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1}),{init:N,addCompiledRules:function(a){Hitch.dom.styleTag(a.rules.join("\n\n"),!1,/LINK|STYLE/.test(a.originNode.tagName)?a.originNode:null),k=k.concat(a);for(var b in a.segIndex)j[b]=a.segIndex[b];return l=l.concat(a.plugins),this},add:function(b){var c,d=b.length?b:[b],e,f=[];for(c=0;c<d.length;c++){e=d[c];if(!e.name)throw"Must have a name!";e["const"]&&n.push(e["const"]),e.name&&(l.push(e),m.push(e.name)),e.init&&e.type&&e.type==="html"&&f.push({inline:":"+e.name+"(){}",ref:a.childNodes[a.childNodes.length-1]})}Hitch.resource&&Hitch.resource.load(f,Hitch.addCompiledRules,"css",null,N)},list:function(){return m},getBase:function(a){for(var b=0;b<l.length;b++)if(a===l[b].name)return l[b].base},apply:r,query:f,getSegIndex:function(){return j},getRules:function(){return k},getHitches:function(){return l},getConsts:function(){return n},matchesSelector:d,vendor:b,scanCSS:L,scanForWidgets:K,scan:M}}();typeof module!="undefined"&&module.exports&&(module.exports.Hitch=Hitch),function(a){var b=document.getElementsByTagName("head")[0],c,d,e;e=function(a){var b=(a.className||"").split(/\s+/);return b.length?b:[]},b.classList?(c=function(a,b){containsClass(a,b)||a.classList.add(b)},d=function(a,b){containsClass(a,b)&&a.classList.remove(b)},containsClass=function(a,b){return a.classList.contains(b)}):(c=function(a,b){var c=e(a);c.indexOf(b)===-1&&(c.push(b),(a.target||a).className=c.join(" "))},d=function(a,b){var c=e(a),d=c.indexOf(b);d!==-1&&(c.splice(d,1),(a.target||a).className=c.join(" "))}),a.dom={addMangledClass:function(a,b){var d=a instanceof NodeList?a:[a],e,f;for(var g=0;g<d.length;g++)c(d[g].target||d[g],"_"+b)},removeMangledClass:function(a,b){var c=a instanceof NodeList?a:[a],e;for(var f=0;f<c.length;f++)d(c[f].target||c[f],"_"+b)},scriptTag:function(a,b){var c=document.createElement("script"),d;setTimeout(function(){c.type="text/"+(a.type||"javascript"),c.src=a.src||a,c.async=!1,c.onload=function(){d&&clearTimeout(d),c.done=!0,b()},c.onreadystatechange=function(){var a=c.readyState;d&&clearTimeout(d);if(!a||/loaded|complete/.test(a))d=setTimeout(function(){c.done||(c.done=!0,b())},50)},(document.head||document.getElementsByTagName("head")[0]).appendChild(c)},1)},styleTag:function(a,c,d){var e=document.createElement("style");c&&e.setAttribute("x-hitch-interpret",!0);if(d&&d.parentNode)try{e.innerHTML=a,d.parentNode.replaceChild(e,d)}catch(f){d.parentNode.replaceChild(e,d);for(var g=0,h=d;h;++g)h=h.previousSibling;document.styleSheets[g].cssText=a}else try{b.appendChild(e),e.innerHTML=a,b.appendChild(e)}catch(f){b.appendChild(e),document.styleSheets[document.styleSheets.length-1].cssText=a}}}}(Hitch),function(a){var b=1;a.add([{name:"-hitch-anyof",base:"",filter:function(b,c){return a.matchesSelector(b,c)}},{name:"-hitch-noneof",base:"",filter:function(b,c){return!a.matchesSelector(b,c)}},{name:"-hitch-oneof",base:"",filter:function(b,c){var d,e=0,f=c.split(",");for(d=0;d<f.length;d++)if(a.matchesSelector(b,f[d])){e++;if(e>1)return!1}return e===1}},{name:"-hitch-allof",base:"",filter:function(b,c){var d,e=c.split(",");for(d=0;d<e.length;d++)if(!a.matchesSelector(b,e[d]))return!1;return!0}},{name:"-hitch-has",base:"",filter:function(a,c){var d=c.charAt(0);if(d===">"||d==="~")a.getAttribute("x-hitch-id")||a.setAttribute("x-hitch-id",b++),c="#"+a.getAttribute("x-hitch-id")+" "+c;return a.querySelector(c)!==null}},{name:"-hitch-beta-const",base:"","const":{name:"-hitch-beta-",replaceWith:a.vendor}}])}(Hitch),function(a){var b={},c=function(){var a=!1;if(window.XMLHttpRequest)try{a=new XMLHttpRequest}catch(b){a=!1}else if(typeof ActiveXObject!="undefined")try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(d){a=!1}}return a},d=function(a){return a};a.resource={load:function(a,e,f,g,h){var i=c(),j,k,l,m=a.length,n=function(a){try{e(a)}catch(b){}p.apply({},arguments)},o=function(a){var b="";i.readyState==4&&(i.status==200?(i.responseText&&(b=i.responseText),HitchCompiler(b,n,a)):p.apply({},arguments))},p=function(){m--,m===0&&h.apply({},arguments)};if(!a||a.length===0){h.apply({},arguments);return}if(f==="script")for(j=0;j<a.length;j++)l=a[j].uri.split("#")[0],b[l]?p():(b[l]=!0,Hitch.dom.scriptTag(l,p));else{var q=function(a){return function(){o(a.ref)}};for(j=0;j<a.length;j++)if(a[j].inline)HitchCompiler(a[j].inline,n,d(a[j].ref));else{l=a[j],k=l.uri.split("#")[0];if(!b[k]){b[k]=!0;if(!i){p();continue}i.open("GET",k+"?",!0),i.onreadystatechange=q(l),i.send(null)}else p()}}}}}(Hitch),function(a){var b={o:{s:window,a:"addEventListener",e:"DOMContentLoaded",r:"removeEventListener"},n:{s:document,a:"attachEvent",e:"onreadystatechange",r:"detachEvent"}},c=null,d=!1,e=document.addEventListener?b.o:b.n;a.events={getAttacherFnName:function(){return e.a},addLoadListener:function(a){e.s[e.a](e.e,a,!1),e.s[e.a]("load",a,!1)},removeLoadListener:function(a){e.s[e.r](e.e,a,!1),e.s[e.r]("load",a,!1)},DOMHitchReady:function(){d=!0,a.events.removeLoadListener(a.events.DOMHitchReady);if(!c)return;for(var b=0;b<c.length;b++)c[b]();c=null},ready:function(b){if(d){b();return}c||(c=[],a.events.addLoadListener(a.events.DOMHitchReady)),c.push(b)}}}(Hitch);var HitchCompiler=function(){var a={},b=0;return function(c,d,e){var f,g,h,i,j,k,l,m=[],n,o,p=[],q=[],r=[],s=function(a){a.originNode=e,d(a)};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var t=function(a){var b=[],c,d,e,f,g={};for(var h=0;h<a.length;h++){b=[],c=a[h];if(!c.segments||c.segments.length===0)continue;for(var i=0;i<c.segments.length;i++)d=c.segments[i],e=d.selector.replace(/\._\d*/,"").replace(":not()",""),b.push(e),d.filter&&(f=b.length>0&&b[0]!==""?b.join(" "):n,g[f]||(g[f]={hitches:{},orig:c.rule.split("{")[0]}),g[f].hitches[d.filter]||(g[f].hitches[d.filter]=[]),g[f].hitchState||(g[f].hitchState={hover:[],focus:[]}),/\:hover/.test(d.filterargs)&&g[f].hitchState.hover.push({hitch:d.filter}),/\:focus/.test(d.filterargs)&&g[f].hitchState.focus.push({hitch:d.filter}),g[f].hitches[d.filter].push({segmentId:i,ruleId:h,classId:d.classId,args:d.filterargs,base:d.base}))}return g},u=function(){var a=document.getElementsByTagName("head")[0],b=a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;return b?Hitch.vendor+"-any":"-hitch-any"},v=function(a){return a.replace(/\/\*.*\*\//g,"").replace(/\n|\t/g,"").trim()},w=function(a){return"/* was: "+v(a)+" */\n"},x=function(a,b,c){var d=0,e=c.split(/\,/),f=[];for(var g=0;g<e.length;g++)(e[g]+"(").match(/\(/g).length<(e[g]+")").match(/\)/g).length?f[f.length-1]=f[f.length-1]+","+e[g]:(e[g]+"[").match(/\[/g).length<(e[g]+"]").match(/\]/g).length?f[f.length-1]=f[f.length-1]+","+e[g]:f.push(e[g]);if(f.length===1)return c.substring(0,b);for(g=0;g<f.length;g++){var h=b-d-g;d+=f[g].length;if(b<d)return f[g].substring(0,f[g].length-a.length-1)}},y=function(c,d){var e,f,g=v(c).replace(B(),function(c,g,h){var i,j,k;typeof a[c]=="undefined"&&(a[c]={index:b++,filter:c.split("(")[0],args:c.match(/\((.*)\)/)[1]}),n=Hitch.getBase(c.split("(")[0]);if(!n||n==="")n="*";return i=o==="-hitch-any"?"":o+"("+n+")",typeof a[c].index!="undefined"&&(i+="._"+a[c].index),j=v(x(c,g,h))+i.replace(o+"(*)",""),j+=("("+j).match(/\(/g).length!==(")"+j).match(/\)/g).length?")":"",d.segments.length>0&&(e=d.segments[d.segments.length-1].raw,f=j.substring(j.indexOf(e)+e.length),f!==""&&f!==")"&&(j=v(f))),d.segments.push({selector:j.replace(":._","._"),raw:":"+c,filter:":"+a[c].filter,filterargs:a[c].args,classId:a[c].index,base:n}),B().test(c.substring(c.indexOf("(")+1))&&(d.segments[d.segments.length-1].filterargs=y(c.match(/\((.*)\)/)[1]+")",d).replace(":._","._"),k=Object.create(d),k.segments=[d.segments[d.segments.length-1]],k.rule="",m.push(k)),i.replace(o+"(*)","")});return(g.match(/\(/g)||[]).length!==(g.match(/\)/g)||[]).length&&(g=g.replace(/\)(?!.*[\)]+)/,"")),g};c=c.replace(/\@-hitch-requires[^\;]*\;/g,function(a,b,c){var d=a.split(/\s|\;/g);return d[1].indexOf("package:")===0?p.push({uri:"http://www.hitchjs.com/use/"+d[1].substring(8)+".js",name:d[1].substring(8),base:"",type:"require"}):p.push({uri:d[1],name:d[1],base:"",type:"require"}),""}),o="-"+u();try{document.head.querySelectorAll(":"+o+"(*)").length===-1}catch(z){o="-hitch-any"}var A,B=function(){var a,b;return A||(a=Hitch.list(),b="\\([^\\)]*\\)",A=new RegExp(a.join(b+"|")+b,"g")),A.lastIndex=0,A},C=function(){var a,b,d,e;r=Hitch.getConsts();try{c=c.replace(/\@-hitch-const[^\;]*\;/g,function(a,b,c){var d=a.split(/\s|\;/g),e;return d.shift(),e=d.shift(),r.push({name:e,replaceWith:d.join(" ")}),Hitch.add({name:e,base:d.join(" ")}),""}),r.sort(function(a,b){return a.name.length>b.name.length?-1:a.name.length===b.name.length?0:1}),d=function(a){c=c.replace(new RegExp(a.name,"g"),function(b,c,d){var e,f;return e=a.replaceWith,f=e.indexOf(":-hitch-args"),f!==-1&&(e=e.replace(":-hitch-args",d.substring(d.indexOf("(")+1,d.indexOf(")")))),e})};for(k=0;k<r.length;k++)d(r[k]);c=c.replace(/@media/g,"@@media"),a=c.split(/\}|@media/);for(var k=0;k<a.length;k++){b={ruleId:k},f=a[k].trim();if(e||f===""){f===""&&(e=!1);continue}if(f.indexOf("@")===0)if(f[1]==="i")f=f.replace(/^@.*;/,"").trim();else{f==="@"&&(e=!0);continue}f=f+" }",j=f,i=f.split("{"),g=i[0],h=" {"+i[1],g!=="*"&&B().test(g)?(b.segments=[],l=w(g),g=y(g,b),b.rule=l+g.replace(new RegExp(":"+o+"\\(\\*\\)","g"),"").replace(/:\._/g,"._")+h):b.rule=f,m.push(b)}var n={rules:[],segIndex:t(m),plugins:p};for(var q=0;q<m.length;q++)m[q].rule&&n.rules.push(m[q].rule);s(n)}catch(u){console.error(u)}};Hitch.resource.load(p,null,"script",null,C)}}();typeof module!="undefined"&&module.exports&&(module.exports.HitchCompiler=HitchCompiler),function(){var a=document.getElementsByTagName("head")[0],b=a.querySelectorAll("link[x-hitch-compiled]"),c,d=[];for(var e=0;e<b.length;e++)c=b[e],d.push({uri:c.getAttribute("href").replace(".css","-compiled.js")});Hitch.resource.load(d,null,"script",null,function(){}),Hitch.go=function(){Hitch.scanCSS(document.getElementsByTagName("head")[0],function(){var a=document.getElementsByTagName("body")[0];Hitch.init(),Hitch.scan(a,function(){addMod(a,Hitch.matchesSelector)})})},Hitch.query(a,"script[data-hitch-manual]").length===0&&Hitch.events.ready(Hitch.go)}();